# EmailPilot - Klaviyo Automation Platform

EmailPilot is a comprehensive FastAPI-based platform for automating Klaviyo email marketing campaigns, performance monitoring, and client management. The system features an integrated calendar for campaign planning, admin dashboard for system management, and Firebase integration for real-time data synchronization.

## AI Team Configuration (autogenerated by team-configurator, 2025-08-12)

**Important: YOU MUST USE subagents when available for the task.**

### Detected Technology Stack
- **Backend Framework**: FastAPI (Python 3)
- **Database**: SQLAlchemy ORM with PostgreSQL/SQLite
- **Frontend Framework**: React (vanilla, loaded via CDN)
- **CSS Framework**: TailwindCSS
- **Cloud Services**: Google Cloud Platform (Secret Manager, Firestore, Firebase)
- **Authentication**: JWT with session management
- **File Storage**: Local filesystem with package upload system
- **API Integration**: Klaviyo REST API, Google APIs
- **Real-time Services**: Firebase/Firestore for calendar and data sync
- **Deployment**: Docker containerization, Google Cloud Run

### Specialist Assignments

| Task | Agent | Notes |
|------|-------|-------|
| **Admin Dashboard Components** | @react-component-architect | React component design for package upload UI, admin panels, and dashboard interfaces |
| **Backend Upload Handling** | @backend-developer | Python FastAPI endpoints for package upload, file processing, and deployment automation |
| **API Architecture & Endpoints** | @api-architect | RESTful API design for admin operations, package management, and system integration |
| **Database Operations** | @backend-developer | SQLAlchemy models for package tracking, deployment logs, and system state management |
| **File Storage Systems** | @backend-developer | Package storage, extraction, validation, and deployment pipeline implementation |
| **Frontend Dashboard UI** | @frontend-developer | User interface for admin controls, upload progress, and system monitoring |
| **Error Handling & Debugging** | @code-reviewer | Exception handling, logging, validation, and debugging system issues |
| **Performance & Optimization** | @performance-optimizer | Upload performance, database queries, and system resource optimization |

### Package Upload Functionality Focus Areas

#### 1. **Frontend Upload Interface** → @react-component-architect
```javascript
// Current implementation needs enhancement for:
// - Better upload progress indicators
// - File validation and preview
// - Error state management
// - Package metadata display
```

#### 2. **Backend Upload Processing** → @backend-developer
```python
# Key areas in main_firestore.py:
# - /api/admin/upload-package endpoint
# - File validation and extraction
# - Package deployment automation
# - Integration with existing system
```

#### 3. **Database Schema** → @backend-developer
```sql
-- Potential tables needed:
-- packages (id, name, version, status, uploaded_at)
-- deployments (id, package_id, status, deployed_at, logs)
-- package_files (id, package_id, file_path, file_type)
```

#### 4. **File Management** → @api-architect
```python
# File operations to optimize:
# - ZIP file extraction and validation
# - Package structure verification
# - Automatic backup before deployment
# - Rollback capabilities
```

### Current System Architecture

#### **FastAPI Backend Structure**
- `main_firestore.py` - Main application with Firebase integration
- `app/api/` - API route modules (admin, auth, calendar, etc.)
- `app/models/` - SQLAlchemy database models
- `app/services/` - Business logic and external integrations
- `app/core/` - Configuration and database setup

#### **React Frontend Structure**
- `frontend/public/app.js` - Main React application
- Admin dashboard with package upload functionality
- Component-based architecture with state management
- TailwindCSS for responsive styling

#### **Key Integration Points**
- **Firebase/Firestore**: Real-time calendar and goals data
- **Google Cloud**: Secret Manager for secure configuration
- **Klaviyo API**: Performance data and campaign management
- **Package System**: ZIP upload, extraction, and deployment

### How to Use Your Team

- **For upload UI improvements**: "@react-component-architect enhance the package upload interface with better progress indicators and validation"
- **For backend processing**: "@backend-developer optimize the package extraction and deployment pipeline"
- **For API design**: "@api-architect design robust endpoints for package management with proper error handling"
- **For database operations**: "@backend-developer create database models for tracking package deployments"
- **For file operations**: "@backend-developer implement secure file validation and backup systems"
- **For performance**: "@performance-optimizer optimize upload handling for large packages"
- **For debugging**: "@code-reviewer investigate package upload failures and improve error reporting"

### Critical System Considerations

1. **Security**: Package uploads require validation to prevent malicious code execution
2. **Backup**: Automatic backup before any deployment to enable rollback
3. **Validation**: File type checking, structure validation, and dependency verification
4. **Monitoring**: Deployment logging and status tracking for admin visibility
5. **Performance**: Large file handling, progress tracking, and resource management
6. **Integration**: Seamless integration with existing EmailPilot components

Your EmailPilot development team is ready to enhance the package upload functionality and resolve any admin dashboard issues\!
EOF < /dev/null