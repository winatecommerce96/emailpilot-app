<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - EmailPilot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .tab-active {
            color: #1e293b;
            background: #f1f5f9;
            font-weight: 600;
            border-bottom: 2px solid #3b82f6;
        }
        .tab-inactive {
            color: #3b82f6;
            background: transparent;
        }
        .tab-inactive:hover {
            background: #f8fafc;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <!-- Load pre-compiled components -->
    <script src="/static/dist/AdminAgentsPanel.js"></script>
    <script src="/static/dist/AdminOAuthConfig.js"></script>
    
    <script>
        // Admin Panel with Tabs
        const AdminPanel = () => {
            const [activeTab, setActiveTab] = React.useState('agents');
            
            return React.createElement('div', { 
                style: { 
                    minHeight: '100vh',
                    background: '#f9fafb',
                    padding: '20px'
                }
            },
                React.createElement('div', {
                    style: {
                        maxWidth: '1200px',
                        margin: '0 auto'
                    }
                },
                    // Header
                    React.createElement('div', { 
                        style: { 
                            marginBottom: '32px',
                            padding: '20px',
                            background: 'white',
                            borderRadius: '8px',
                            border: '1px solid #e2e8f0'
                        }
                    },
                        React.createElement('div', {
                            style: {
                                display: 'flex',
                                justifyContent: 'space-between',
                                alignItems: 'center',
                                marginBottom: '16px'
                            }
                        },
                            React.createElement('h1', { 
                                style: { 
                                    margin: 0,
                                    fontSize: '32px', 
                                    fontWeight: 'bold',
                                    color: '#1e293b' 
                                }
                            }, '‚öôÔ∏è EmailPilot Admin'),
                            React.createElement('a', {
                                href: '/',
                                style: {
                                    color: '#3b82f6',
                                    textDecoration: 'none',
                                    padding: '8px 16px',
                                    borderRadius: '6px',
                                    border: '1px solid #3b82f6',
                                    fontSize: '14px',
                                    display: 'inline-flex',
                                    alignItems: 'center',
                                    gap: '8px'
                                }
                            }, 
                                React.createElement('i', { className: 'fas fa-arrow-left' }),
                                'Back to Dashboard'
                            )
                        ),
                        
                        // Tabs
                        React.createElement('div', { 
                            style: { 
                                display: 'flex', 
                                gap: '8px',
                                borderBottom: '1px solid #e2e8f0',
                                marginTop: '16px'
                            }
                        },
                            React.createElement('button', {
                                onClick: () => setActiveTab('agents'),
                                className: activeTab === 'agents' ? 'tab-active' : 'tab-inactive',
                                style: {
                                    padding: '12px 24px',
                                    borderRadius: '6px 6px 0 0',
                                    border: 'none',
                                    cursor: 'pointer',
                                    fontSize: '14px',
                                    transition: 'all 0.2s'
                                }
                            }, 
                                React.createElement('span', null, 'ü§ñ Email/SMS Agents')
                            ),
                            React.createElement('button', {
                                onClick: () => setActiveTab('oauth'),
                                className: activeTab === 'oauth' ? 'tab-active' : 'tab-inactive',
                                style: {
                                    padding: '12px 24px',
                                    borderRadius: '6px 6px 0 0',
                                    border: 'none',
                                    cursor: 'pointer',
                                    fontSize: '14px',
                                    transition: 'all 0.2s'
                                }
                            }, 
                                React.createElement('span', null, 'üîê OAuth Configuration')
                            )
                        )
                    ),
                    
                    // Tab Content
                    React.createElement('div', {
                        style: {
                            animation: 'fadeIn 0.3s ease-in'
                        }
                    },
                        activeTab === 'agents' && (
                            window.AdminAgentsPanel ? 
                                React.createElement(window.AdminAgentsPanel) :
                                React.createElement('div', {
                                    style: {
                                        padding: '20px',
                                        background: '#fee2e2',
                                        border: '1px solid #fca5a5',
                                        borderRadius: '8px',
                                        color: '#dc2626'
                                    }
                                }, 'AdminAgentsPanel component not loaded. Please run "npm run build" to compile the frontend.')
                        ),
                        
                        activeTab === 'oauth' && (
                            window.AdminOAuthConfig ? 
                                React.createElement(window.AdminOAuthConfig) :
                                React.createElement('div', {
                                    style: {
                                        padding: '20px',
                                        background: '#fee2e2',
                                        border: '1px solid #fca5a5',
                                        borderRadius: '8px',
                                        color: '#dc2626'
                                    }
                                }, 'AdminOAuthConfig component not loaded. Please run "npm run build" to compile the frontend.')
                        )
                    )
                )
            );
        };

        // Mount the app
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(React.createElement(AdminPanel));
    </script>
    
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</body>
</html>