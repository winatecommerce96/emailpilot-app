{
  "timestamp": "2025-08-20T23:09:08.597967",
  "project_id": null,
  "tests": {
    "environment_variables": {
      "status": "warning",
      "details": {
        "GOOGLE_CLOUD_PROJECT": null,
        "GOOGLE_APPLICATION_CREDENTIALS": null,
        "SECRET_MANAGER_ENABLED": "True"
      },
      "issues": [
        "GOOGLE_CLOUD_PROJECT not set",
        "GOOGLE_APPLICATION_CREDENTIALS not set"
      ]
    },
    "authentication": {
      "status": "warning",
      "auth_project": "emailpilot-438321",
      "credential_type": "Credentials",
      "issues": [
        "Auth project (emailpilot-438321) differs from GOOGLE_CLOUD_PROJECT (None)"
      ]
    },
    "project_access": {
      "status": "critical",
      "error": "GOOGLE_CLOUD_PROJECT not set",
      "issues": [
        "Project ID required"
      ]
    },
    "secret_manager_api": {
      "status": "critical",
      "error": "403 Permission denied on resource project None. [reason: \"CONSUMER_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"secretmanager.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"None\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/None\"\n}\n, locale: \"en-US\"\nmessage: \"Permission denied on resource project None.\"\n, links {\n  description: \"Google developers console\"\n  url: \"https://console.developers.google.com\"\n}\n]",
      "issues": [
        "Permission denied for Secret Manager API"
      ]
    },
    "permissions": {
      "status": "skipped",
      "reason": "Permission test not available: 403 Permission denied on resource project None. [reason: \"CONSUMER_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"secretmanager.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"None\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/None\"\n}\n, locale: \"en-US\"\nmessage: \"Permission denied on resource project None.\"\n, links {\n  description: \"Google developers console\"\n  url: \"https://console.developers.google.com\"\n}\n]"
    },
    "create_secret": {
      "status": "critical",
      "error": "GOOGLE_CLOUD_PROJECT not set",
      "issues": [
        "Project ID required for secret creation"
      ]
    },
    "list_secrets": {
      "status": "critical",
      "error": "GOOGLE_CLOUD_PROJECT not set",
      "issues": [
        "Project ID required for listing secrets"
      ]
    }
  },
  "recommendations": [
    {
      "priority": "HIGH",
      "category": "Critical Issues",
      "message": "Critical failures in: project_access, secret_manager_api, create_secret, list_secrets",
      "action": "Address these issues before proceeding"
    },
    {
      "priority": "HIGH",
      "category": "Environment",
      "message": "Set missing environment variables",
      "action": "export GOOGLE_CLOUD_PROJECT=your-project-id"
    },
    {
      "priority": "HIGH",
      "category": "Secret Creation",
      "message": "Cannot create secrets in Secret Manager",
      "action": "Check IAM permissions for secretmanager.secrets.create"
    }
  ],
  "errors": []
}